# Telegram-–±–æ—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ —Å YouTube üöÄ

–ú–æ—â–Ω—ã–π –±–æ—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ **4K (2160p)** –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º –¥–æ **2 –ì–ë**.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä Telegram Bot API –¥–ª—è –æ–±—Ö–æ–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤.

## ‚ú® –§–∏—á–∏

- üì¶ **–õ–∏–º–∏—Ç 2 –ì–ë:** –ö–∞—á–∞–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–ª—å–º—ã, —Å—Ç—Ä–∏–º—ã –∏ –¥–ª–∏–Ω–Ω—ã–µ –≤–∏–¥–µ–æ.
- üì∫ **4K Ready:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π: 360p, 720p, 1080p, 2K, 4K.
- ‚ö° **Auto-Installer:** –°–∫—Ä–∏–ø—Ç `setup.sh` —Å–∞–º –ø–æ–¥–Ω–∏–º–µ—Ç Docker, –Ω–∞—Å—Ç—Ä–æ–∏—Ç SSL –∏ —Å–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ñ–∏–≥–∏.
- ‚öôÔ∏è **Smart Config:** –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`, –Ω–∏–∫–∞–∫–æ–π –∂–µ—Å—Ç–∫–æ–π –ø—Ä–æ–ø–∏—Å–∫–∏ –≤ –∫–æ–¥–µ.
- üñºÔ∏è **–ö—Ä–∞—Å–æ—Ç–∞:** –û–±–ª–æ–∂–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã (–ë–æ—Ç + API –°–µ—Ä–≤–µ—Ä) –Ω—É–∂–µ–Ω **Linux —Å–µ—Ä–≤–µ—Ä** (Ubuntu/Debian) —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

1.  **Docker & Docker Compose** (–¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞ –∏ Nginx).
2.  **Python 3.10+** (–¥–ª—è —Å–∞–º–æ–≥–æ –±–æ—Ç–∞).
3.  **–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `api.mydomain.com`), –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
4.  **Telegram API ID & Hash** (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ [my.telegram.org](https://my.telegram.org)).

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 2 –º–∏–Ω—É—Ç—ã

–ú—ã –Ω–∞–ø–∏—Å–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –≤—Å—é –≥—Ä—è–∑–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–∞ –≤–∞—Å.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
git clone https://github.com/YOUR_REPO/youtube-telegram-bot.git
cd youtube-telegram-bot
```

### 2. –ó–∞–ø—É—Å–∫ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–∞
–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –¥–æ–º–µ–Ω, —Ç–æ–∫–µ–Ω—ã –∏ –ø–æ–º–æ–∂–µ—Ç –≤—Å—Ç–∞–≤–∏—Ç—å –∫—É–∫–∏. –¢–∞–∫–∂–µ –æ–Ω —Å–∞–º –ø–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ Let's Encrypt.

```bash
chmod +x setup.sh
./setup.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
1.  –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ Docker –∏ Python.
2.  –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `.env` —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.
3.  –ü—Ä–∏–Ω–∏–º–∞–µ—Ç Cookies (Netscape format) –ø—Ä—è–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.
4.  –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–≥–ª–æ–±–∞–ª—å–Ω–æ).
5.  –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `docker-compose.yml` –∏ –∫–æ–Ω—Ñ–∏–≥–∏ Nginx.
6.  –ü–æ–¥–Ω–∏–º–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä, –ø–æ–ª—É—á–∞–µ—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç Nginx.

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python3 bot.py
```

---

## üç™ –ü—Ä–æ Cookies (–í–∞–∂–Ω–æ!)

YouTube –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö IP. –ß—Ç–æ–±—ã `yt-dlp` —Ä–∞–±–æ—Ç–∞–ª, –Ω—É–∂–Ω—ã –≤–∞—à–∏ –∫—É–∫–∏.
–ò–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä –ø–æ–ø—Ä–æ—Å–∏—Ç –∏—Ö –≤—Å—Ç–∞–≤–∏—Ç—å.

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **Cookie-Editor** (Chrome/Firefox).
2.  –ó–∞–π–¥–∏—Ç–µ –Ω–∞ YouTube (–≤—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã).
3.  –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è -> **Export** -> **Export as Netscape**.
4.  –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤—Å—Ç–∞–≤—å—Ç–µ, –∫–æ–≥–¥–∞ `setup.sh` –ø–æ–ø—Ä–æ—Å–∏—Ç.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env`. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –ø–æ–º–µ–Ω—è—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–∫–µ–Ω), –ø—Ä–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª.

```ini
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
API_DOMAIN=api.yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
.
‚îú‚îÄ‚îÄ bot.py                  # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ setup.sh                # –ú–∞–≥–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä
‚îú‚îÄ‚îÄ settings.py             # –ó–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (Pydantic)
‚îú‚îÄ‚îÄ .env                    # –í–∞—à–∏ —Å–µ–∫—Ä–µ—Ç—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º)
‚îú‚îÄ‚îÄ docker-compose.yml      # –ö–æ–Ω—Ñ–∏–≥ API —Å–µ—Ä–≤–µ—Ä–∞ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º)
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ cookies.txt             # –ö—É–∫–∏ YouTube
‚îú‚îÄ‚îÄ handlers/               # –õ–æ–≥–∏–∫–∞ (Start, Selection, Download)
‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ nginx_conf/             # –ö–æ–Ω—Ñ–∏–≥–∏ Nginx (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º)
```

## üÜò Troubleshooting

**1. –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –æ—à–∏–±–∫–∞ Connection Refused**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω—ã –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker-compose ps
```
–ï—Å–ª–∏ API —Å–µ—Ä–≤–µ—Ä –ª–µ–∂–∏—Ç, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs telegram-bot-api
```

**2. YouTube –≤—ã–¥–∞–µ—Ç "Sign in to confirm you're not a bot"**
–í–∞—à–∏ –∫—É–∫–∏ –ø—Ä–æ—Ç—É—Ö–ª–∏ –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã.
1.  –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç –∫—É–∫–æ–≤ (—Å–º. —Ä–∞–∑–¥–µ–ª Cookies).
2.  –ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `cookies.txt`.
3.  –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞.

**3. SSL –æ—à–∏–±–∫–∞**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã 80 –∏ 443 —Å–≤–æ–±–æ–¥–Ω—ã –∏ –æ—Ç–∫—Ä—ã—Ç—ã –Ω–∞ —Ñ–∞–µ—Ä–≤–æ–ª–µ.
```bash
ufw allow 80
ufw allow 443
```